* napsat prvni testy
* udelat registracni mod (v podstate jen rozhodnout kde se bude drzet ta reg. flag, udelat add_garage v api modulu a dodelat prislusny tlacitka)
* u tech email notifikaci se bude muset vyresit jak poslat notifikaci ze se garaz nehlasi. to znamena pravidelne projet databazi a zjistit, jestli sou naky garaze late a kdyztak poslat ty maily. Pro info viz https://stackoverflow.com/questions/21214270/scheduling-a-function-to-run-every-hour-on-flask/38501429 . Pri notifikaci vo udalost (pozar atp. ) se to resit nemusi, tam ten mail proste posle ten api controller.
* mozna predelat naky ty tlacitka (add_garage) taky na ty flask_form, abysme nemuseli mit csrf zapnuty globalne (csrf = CSRFProtect(app)) a pak ho rucne vypinali pro ten api modul (ale v podstate neni nutny zatim)
* to reseni tech timestamps ted neni uplne optimalni, viz https://stackoverflow.com/questions/13370317/sqlalchemy-default-datetime
* nakej zakladni pentesting?
* to api upravit podle https://restfulapi.net/http-methods/
** doplnit spravny navratovy kody, to revoke key by teoreticky mohlo bejt put
** dalsi zdroj k navrhu api https://docs.microsoft.com/en-us/azure/architecture/best-practices/api-design

*v zasade chybi: Reg. mod, notifikace, zmeny stavu garaze, user settings

* napad: tu posilani emailu udelat jako nakou tu on_change udalost v sqlalchemy u toho garage.state, tj kdyz se stav zmeni na neco jinyho nez ok, posle se mail. Pri kontrole hlaseni je pak jedno, jestli ji proved nakej planovac nebo se zavolala protoze nekdo votevrel web, email se bude posilat jen pri zmene zaznamu, takze max jednou pro kazdy propasnuty hlaseni. Stejne tak pri zaznamenani naky vyznamny udalosti se nebude posilat email z toho controlleru treba ale proste na zaklade zmeny toho policka state 

Viz http://docs.sqlalchemy.org/en/latest/orm/events.html#sqlalchemy.orm.events.AttributeEvents.set, v sqlalchemy asi neni primo on_change, ale tady je oldvalue hodnota takze se to da pouzit

* pri pouziti scheduleru je taky moznost naplanovat dycky dalsi check_reports pri prijeti kontrolniho hlaseni